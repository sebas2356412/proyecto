<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito simple</title>

    <style>
        body { font-family: Arial; padding: 20px; }
        .producto { border: 1px solid #ccc; padding: 15px; width: 200px; margin-bottom: 10px; }
        .btn { background: #ff914d; color: white; border: none; padding: 8px; cursor: pointer; }
        #carrito { margin-top: 30px; border-top: 2px solid #000; padding-top: 20px; }
        .fin { background: green; color: white; padding: 10px; margin-top: 20px; display: inline-block; }
    </style>
</head>

<body>

    <h1>Carrito con algoritmo ðŸ›’</h1>

    <!-- PRODUCTOS -->
    <div class="producto">
        <h3>Juguete para perro</h3>
        <p>Precio: $25000</p>
        <button class="btn comprar-btn">Comprar</button>
    </div>

    <div class="producto">
        <h3>Comida para gato</h3>
        <p>Precio: $40000</p>
        <button class="btn comprar-btn">Comprar</button>
    </div>

    <div class="producto">
        <h3>Cama para mascota</h3>
        <p>Precio: $55000</p>
        <button class="btn comprar-btn">Comprar</button>
    </div>

    <!-- CARRITO -->
    <div id="carrito">
        <h2>Carrito de compras</h2>
        <ul id="lista-carrito"></ul>
        <p><strong>Total: $<span id="total">0</span></strong></p>
        <button id="finalizar" class="btn">Finalizar compra</button>
        <p id="mensaje-final"></p>
    </div>

<script>
    // --------------------------
    // ALGORITMO DEL CARRITO
    // --------------------------

    let carrito = [];
    let total = 0;

    const botonesComprar = document.querySelectorAll(".comprar-btn");
    const listaCarrito = document.getElementById("lista-carrito");
    const totalTexto = document.getElementById("total");
    const mensajeFinal = document.getElementById("mensaje-final");

    botonesComprar.forEach(boton => {
        boton.addEventListener("click", (e) => {
            const contenedor = e.target.parentElement;
            const nombre = contenedor.querySelector("h3").textContent;
            const precio = parseInt(contenedor.querySelector("p").textContent.replace("Precio: $", ""));

            // Agregar al carrito (ALGORITMO)
            carrito.push({ nombre, precio });

            total += precio;

            actualizarCarrito();
        });
    });

    function actualizarCarrito() {
        listaCarrito.innerHTML = "";
        carrito.forEach(item => {
            const li = document.createElement("li");
            li.textContent = `${item.nombre} - $${item.precio}`;
            listaCarrito.appendChild(li);
        });

        totalTexto.textContent = total;
    }

    document.getElementById("finalizar").addEventListener("click", () => {
        if (carrito.length === 0) {
            mensajeFinal.textContent = "El carrito estÃ¡ vacÃ­o.";
            mensajeFinal.style.color = "red";
            return;
        }

        // MENSAJE DE COMPRA FINALIZADA
        mensajeFinal.textContent = "Â¡Compra finalizada con Ã©xito! ðŸŽ‰";
        mensajeFinal.style.color = "green";

        // Vaciar carrito
        carrito = [];
        total = 0;
        actualizarCarrito();
    });
</script>

</body>
</html>
